import matplotlib.pyplot as plt
import numpy as np
import scipy.stats as st


SPACE_STATS = [[0.396, 0.449, 0.339], [0.037, 0.028, 0.035]]
PAGES_STATS = [427, 488, 474, 456]

TIMES = [[0.5586147308349609, 0.4010200500488281, 0.35262107849121094, 0.3440380096435547,
          0.34689903259277344, 0.3707408905029297, 0.39458274841308594, 0.4067420959472656,
          0.3795623779296875, 0.4315376281738281, 0.3445148468017578, 0.34546852111816406,
          0.3845691680908203, 0.3857612609863281, 0.37407875061035156, 0.3712177276611328,
          0.3695487976074219, 0.3440380096435547, 0.3845691680908203, 0.36597251892089844,
          0.3871917724609375, 0.3993511199951172, 0.37407875061035156, 0.34356117248535156,
          0.3705024719238281, 0.3771781921386719, 0.37860870361328125, 0.3910064697265625,
          0.3654956817626953, 0.34427642822265625],
         [0.4744529724121094, 0.4534721374511719, 0.41675567626953125, 0.4420280456542969,
          0.45990943908691406, 0.4782676696777344, 0.49567222595214844, 0.4868507385253906,
          0.49757957458496094, 0.4189014434814453, 0.4208087921142578, 0.4928112030029297,
          0.461578369140625, 0.4925727844238281, 0.5285739898681641, 0.5216598510742188,
          0.4258155822753906, 0.4258155822753906, 0.4723072052001953, 0.4782676696777344,
          0.4591941833496094, 0.48995018005371094, 0.4963874816894531, 0.5307197570800781,
          0.4291534423828125, 0.4336833953857422, 0.5102157592773438, 0.48279762268066406,
          0.4839897155761719, 0.5066394805908203],
         [0.38933753967285156, 0.2999305725097656, 0.2830028533935547, 0.3483295440673828,
          0.31113624572753906, 0.31495094299316406, 0.3147125244140625, 0.3161430358886719,
          0.2815723419189453, 0.2980232238769531, 0.3705024719238281, 0.30994415283203125,
          0.3209114074707031, 0.34427642822265625, 0.3085136413574219, 0.2911090850830078,
          0.33664703369140625, 0.3185272216796875, 0.3116130828857422, 0.3209114074707031,
          0.3459453582763672, 0.32258033752441406, 0.2818107604980469, 0.29540061950683594,
          0.33473968505859375, 0.3368854522705078, 0.3466606140136719, 0.38242340087890625,
          0.3571510314941406, 0.2856254577636719]
]

def main():
    algsNames = ["Best fit", "Worst fit", "Quick fit"]
    colors = ["skyblue", "chartreuse", "gold"]
    barWidth = 10
    tickLoc = np.linspace(10 ,50, 3)
    fig, axarr = plt.subplots(figsize=(9, 7))
    axarr.set_xlabel("Algoritmo de gerência de memória", size=14)
    axarr.set_ylabel("Tempo médio por processo (μs)", size=14)
    axarr.set_title(f"Tempo para achar um espaço livre", size=18)
    y = SPACE_STATS[0]
    for l, h, i in zip(tickLoc, y, range(len(y))):
        axarr.bar(l, h, barWidth, bottom=0.001, align='center', color=colors[i], zorder=3)
    axarr.set_xticks(tickLoc)
    axarr.set_xticklabels(algsNames, size=12)
    plt.tight_layout()
    plt.show()

    algsNames = ["Optimal", "FIFO", "LRU2", "LRU4"]
    colors = ["skyblue", "chartreuse", "gold", "tomato"]
    barWidth = 8
    tickLoc = np.linspace(10 ,50, 4)
    fig, axarr = plt.subplots(figsize=(9, 7))
    axarr.set_xlabel("Algoritmo de paginação", size=14)
    axarr.set_ylabel("Page faults", size=14)
    axarr.set_title(f"Quantidade de page faults em 100 processos", size=18)
    y = PAGES_STATS
    for l, h, i in zip(tickLoc, y, range(len(y))):
        axarr.bar(l, h, barWidth, bottom=0.001, align='center', color=colors[i], zorder=3)
    axarr.set_xticks(tickLoc)
    axarr.set_xticklabels(algsNames, size=12)
    plt.tight_layout()
    plt.show()



if __name__ == '__main__':
    main()
